<html xtrf="file:/C:/Repossitories/Strafe-Overdead/documentatie/strafe-overdead-documentatie-tehnica.ditamap"><head><meta charset="UTF-8"></meta><meta name="copyright" content="(C) Copyright 2023"></meta><meta name="DC.rights.owner" content="(C) Copyright 2023"></meta><meta name="DC.type" content="map"></meta><meta name="DC.format" content="HTML5"></meta>
<link rel='stylesheet' type='text/css' href='file:/C:/Program Files/Oxygen XML Editor 21/frameworks/dita/DITA-OT3.x/plugins/com.oxygenxml.webhelp.responsive/oxygen-webhelp/app/topic-page-print.css' />
<link rel='stylesheet' type='text/css' href='file:/C:/Program Files/Oxygen XML Editor 21/frameworks/dita/css/print/p-dita.css' />
<link rel='stylesheet' type='text/css' href='file:/C:/Program Files/Oxygen XML Editor 21/frameworks/dita/DITA-OT3.x/plugins/com.oxygenxml.editlink/pdf-css.css' />
<title></title></head><body class="wh_topic_page"><div class="wh_content_area"><div class="wh_topic_body"><div class="wh_topic_content"><div xmlns:ditaarch="http://dita.oasis-open.org/architecture/2005/" cascade="merge" class="- map/map map" ditaarch:DITAArchVersion="1.3" domains="(map mapgroup-d) (topic abbrev-d) (topic delay-d) a(props deliveryTarget) (map ditavalref-d) (map glossref-d) (topic hazard-d) (topic hi-d) (topic indexing-d) (topic markup-d) (topic pr-d) (topic relmgmt-d) (topic sw-d) (topic ui-d) (topic ut-d) (topic markup-d xml-d)"><div class="- front-page/front-page front-page"><div class="- front-page/front-page-title front-page-title"><div class="- topic/title title">Strafe Overdead - Documentatie tehnica</div></div></div><div class="- toc/toc toc"><div empty="true" class="- toc/title title"></div>
 <div class="- topic/title title">Strafe Overdead - Documentatie tehnica</div>
 <div is-chapter="true" href="#unique_1" type="topic" class="- map/topicref topicref"><div data-topic-id="untitled3" class="- map/topicmeta topicmeta"><div appid="untitled3" oxy-source="topic" class="- topic/resourceid resourceid"></div><div href="#unique_1" class="- topic/navtitle navtitle">Tehnologii utilizate</div></div></div>
 <div is-chapter="true" href="#unique_2" type="topic" class="- map/topicref topicref"><div data-topic-id="Untitled" class="- map/topicmeta topicmeta"><div appid="Untitled" oxy-source="topic" class="- topic/resourceid resourceid"></div><div href="#unique_2" class="- topic/navtitle navtitle">Cerinte de sistem</div></div></div>
 <div is-chapter="true" href="#unique_3" type="topic" class="- map/topicref topicref"><div data-topic-id="structura_proiectului" class="- map/topicmeta topicmeta"><div appid="structura_proiectului" oxy-source="topic" class="- topic/resourceid resourceid"></div><div href="#unique_3" class="- topic/navtitle navtitle">Structura Proiectului</div></div></div>
 <div is-chapter="true" href="#unique_4" type="topic" class="- map/topicref topicref"><div data-topic-id="strafer-liberator" class="- map/topicmeta topicmeta"><div appid="strafer-liberator" oxy-source="topic" class="- topic/resourceid resourceid"></div><div href="#unique_4" class="- topic/navtitle navtitle">Arhitectura</div></div></div>
</div><article xmlns:oxy="http://www.oxygenxml.com/extensions/author" xmlns:nd="http://www.oxygenxml.com/css2fo/named-destinations" class="- topic/topic topic nested0" aria-labelledby="ariaid-title1" break-before="true" is-chapter="true" oxy:topicref-class="- map/topicref " id="unique_1" nd:nd-id="untitled3" oid="untitled3">
    <h1 class="- topic/title title topictitle1" id="ariaid-title1">Tehnologii utilizate</h1>
    <div class="- topic/body body">
        <p class="- topic/p p">Java</p>
        <p class="- topic/p p">GLSL</p>
        <p class="- topic/p p">Gradle</p>
        <p class="- topic/p p">Maven</p>
        <p class="- topic/p p">libGDX(+plugins)</p>
        <p class="- topic/p p">Git</p>
        <p class="- topic/p p">Tiled</p>
        <p class="- topic/p p">Eclipse IDE</p>
        <p class="- topic/p p"> Visual Studio Code IDE</p>
        <p class="- topic/p p">Android Studio IDE</p>
        <p class="- topic/p p">NetBeans IDE</p>
        <p class="- topic/p p">JProfiler</p>
        <p class="- topic/p p">Launch4j</p>
        <p class="- topic/p p">Install4j</p>
        <p class="- topic/p p">Oxygen XML editor</p>
        <p class="- topic/p p">Photoshop</p>
        <p class="- topic/p p">Aseprite</p>
        <p class="- topic/p p">Spine</p>
        <p class="- topic/p p">Texture Packer</p>
        <p class="- topic/p p">Skin Composer</p>
    </div>
</article><article xmlns:oxy="http://www.oxygenxml.com/extensions/author" xmlns:nd="http://www.oxygenxml.com/css2fo/named-destinations" class="- topic/topic topic nested0" aria-labelledby="ariaid-title2" break-before="true" is-chapter="true" oxy:topicref-class="- map/topicref " id="unique_2" nd:nd-id="Untitled" oid="Untitled">
    <h1 class="- topic/title title topictitle1" id="ariaid-title2">Cerinte de sistem</h1>
    <div class="- topic/body body">
        <p class="- topic/p p"></p>
        <section class="- topic/section section" id="unique_2_Connect_42_id_1" nd:nd-id="id_1"><h2 class="- topic/title title sectiontitle">Cerinte sistem</h2>
            
            <p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">Cerinte minime Desktop:</strong></p>
            <p class="- topic/p p">4GB RAM</p>
            <p class="- topic/p p">3GB ROM(repository)</p>
            <p class="- topic/p p">1GB ROM(instalat)</p>
            <p class="- topic/p p">Procesor 2.5GHz</p>
            <p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">Cerinte minime Mobile:</strong></p>
            <p class="- topic/p p">Android 11+</p>
            <p class="- topic/p p">6GB RAM</p>
            <p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">A fost testat pe:</strong></p>
            <div class="- topic/p p">
                <ul class="- topic/ul ul" id="unique_2_Connect_42_ul_wdc_rt5_4xb" nd:nd-id="ul_wdc_rt5_4xb">
                    <li class="- topic/li li">Desktop(dual boot Windows+Linux distro Mint): <p class="- topic/p p">Procesor AMD Ryzen
                            5600</p><p class="- topic/p p">Placa Video Nvidia RTX 2070super</p><p class="- topic/p p">32GB RAM</p></li>
                </ul>
            </div>
            <div class="- topic/p p">
                <ul class="- topic/ul ul" id="unique_2_Connect_42_ul_oy3_rt5_4xb" nd:nd-id="ul_oy3_rt5_4xb">
                    <li class="- topic/li li">Masina Virtuala(Linux distro Manjaro)</li>
                </ul>
            </div>
            <div class="- topic/p p">
                <ul class="- topic/ul ul" id="unique_2_Connect_42_ul_r14_rt5_4xb" nd:nd-id="ul_r14_rt5_4xb">
                    <li class="- topic/li li">Laptop(Linux distro Ubuntu) <p class="- topic/p p">Procesor Intel celeron 1.8GHz</p><p class="- topic/p p">4GB
                            RAM</p></li>
                </ul>
            </div>
            <div class="- topic/p p">
                <ul class="- topic/ul ul" id="unique_2_Connect_42_ul_tbh_wt5_4xb" nd:nd-id="ul_tbh_wt5_4xb">
                    <li class="- topic/li li">Google pixel 6 (Android 13)</li>
                </ul>
            </div>
            <div class="- topic/p p">
                <ul class="- topic/ul ul" id="unique_2_Connect_42_ul_szk_wt5_4xb" nd:nd-id="ul_szk_wt5_4xb">
                    <li class="- topic/li li">Samsung Galaxy S21 (Android 12)</li>
                </ul>
            </div>
        </section>
    </div>
</article><article xmlns:oxy="http://www.oxygenxml.com/extensions/author" xmlns:nd="http://www.oxygenxml.com/css2fo/named-destinations" class="- topic/topic topic nested0" aria-labelledby="ariaid-title3" break-before="true" is-chapter="true" oxy:topicref-class="- map/topicref " id="unique_3" nd:nd-id="structura_proiectului" oid="structura_proiectului">
    <h1 class="- topic/title title topictitle1" id="ariaid-title3">Structura Proiectului</h1>
    <div class="- topic/body body">
        <p class="- topic/p p">Orice proiect <strong class="+ topic/ph hi-d/b ph b">libGDX</strong> poate fi generat cu setup tool-ul dedicat. Acesta genereaza
            dupa preferintele utilizatorului mai multe proiecte Java care au dependente intre ele in
            functie de platformele si plugin-urile selectate in setup. Pentru build s-a folosit
                <strong class="+ topic/ph hi-d/b ph b">Gradle</strong>, dar dependentele catre <strong class="+ topic/ph hi-d/b ph b">LWJGL</strong> sunt gestionate de libGDX cu
            Maven. In cazul Strafer, exista:</p>
        <div class="- topic/p p">
            <ul class="- topic/ul ul" id="unique_3_Connect_42_ul_n3v_lqq_g5b" nd:nd-id="ul_n3v_lqq_g5b">
                <li class="- topic/li li">proiectul master ce inglobeaza toate proiectele</li>
            </ul>
        </div>
        <div class="- topic/p p">
            <ul class="- topic/ul ul" id="unique_3_Connect_42_ul_lc4_lqq_g5b" nd:nd-id="ul_lc4_lqq_g5b">
                <li class="- topic/li li">proiectul core avand pachetele comune pentru toate versiunile</li>
            </ul>
        </div>
        <div class="- topic/p p">
            <ul class="- topic/ul ul" id="unique_3_Connect_42_ul_mxh_mqq_g5b" nd:nd-id="ul_mxh_mqq_g5b">
                <li class="- topic/li li">proiectele<strong class="+ topic/ph hi-d/b ph b">launcher</strong> pentru fiecare platforma Android si Desktop (entry
                    point-ul aplicatiei)</li>
            </ul>
        </div>
        <p class="- topic/p p"> </p>
    </div>
</article><article xmlns:oxy="http://www.oxygenxml.com/extensions/author" xmlns:nd="http://www.oxygenxml.com/css2fo/named-destinations" class="- topic/topic topic nested0" aria-labelledby="ariaid-title4" break-before="true" is-chapter="true" oxy:topicref-class="- map/topicref " id="unique_4" nd:nd-id="strafer-liberator" oid="strafer-liberator">
    <h1 class="- topic/title title topictitle1" id="ariaid-title4">Arhitectura</h1>
    <article class="- topic/topic topic nested1" aria-labelledby="ariaid-title5" id="unique_5" nd:nd-id="launchers" oid="launchers">
        <h2 class="- topic/title title topictitle2" id="ariaid-title5">Launchers</h2>
        <div class="- topic/body body">
            <p class="- topic/p p">Fiecare launcher determina rezolutia si setarile necesare sistemului pe care ruleaza,
                apoi instantiaza game class-ul Strafer din core</p>
            <div class="- topic/bodydiv bodydiv">
                <p class="- topic/p p">Strafer- Game class-ul in care se regaseste rendering loop-ul si unde sunt
                    declarate constantele globale si obiecte statice:</p>
                <ul class="- topic/ul ul" id="unique_5_Connect_42_ul_esg_gy4_fyb" nd:nd-id="ul_esg_gy4_fyb">
                    <li class="- topic/li li">WORLD_WIDTH, WORLD_HEIGHT </li>
                    <li class="- topic/li li">aspectRatio</li>
                    <li class="- topic/li li">SCALE_FACTOR unitatea de masura principala(1 metru=32 pixeli)</li>
                    <li class="- topic/li li">assetManager incarca si returneaza asseturi recursiv din folderul assets in
                        timpul fazei de loading</li>
                    <li class="- topic/li li">i18n traduce stringuri in functie de limba setata</li>
                    <li class="- topic/li li">spriteBatch se ocupa cu rendering-ul sprite-urilor pe ecran</li>
                    <li class="- topic/li li">tiledMapRenderer un OrthogonalTiledMapRenderer modificat pentru a evita
                        probleme de texture bleeding, se ocupa de rendering pentru fisiere tmx,
                        tiled maps</li>
                    <li class="- topic/li li">inputManager decide ce tip de platforma si periferice sunt disponibile si
                        seteaza ce tip de InputProcessor este
                        necesar(Keyboard,Controller,Touchscreen). Input-ul nu este hardcodat, ci se
                        incarca din fisierul preferences, adica fiecare tasta poate fi reconfigurata
                        de user. libGDX permite de asemenea utilizarea acestor tipuri de input
                        interschimbabil intre platforme(Controller, Keyboard pe mobile, touch pe
                        desktop etc)</li>
                    <li class="- topic/li li">worldCamera este camera care se plimba pe harta dupa entitati</li>
                    <li class="- topic/li li">extendViewport este folosit de worldCamera pentru a determina portiunea
                        vizibla din ecran, acesta se adapteaza pentru orice resize al windowului si
                        orice aspect ratio</li>
                    <li class="- topic/li li">uiManager un scene2d stage, contine toate meniurile si componentele de user
                        interface</li>
                    <li class="- topic/li li">uiCamera este o alta camera cu un screenViewport care separa ui-ul de
                        gameworld</li>
                    <li class="- topic/li li">loadingScreen</li>
                    <li class="- topic/li li">settingsScreen</li>
                    <li class="- topic/li li">titleScreen</li>
                </ul>
                <p class="- topic/p p">gameScreen ecranul in care se petrece gameplay loop-ul. Aici este instantiat pe
                    uiManager un HUD, adica user interface-ul prezent in timpul jocului(healthbar si
                    input pentru mobile). Pe gameScreen se instantiaza un GameWorld, container-ul
                    pentru toata lumea jocului.</p>
                <ul class="- topic/ul ul" id="unique_5_Connect_42_ul_fsg_gy4_fyb" nd:nd-id="ul_fsg_gy4_fyb">
                    <li class="- topic/li li">rayHandler se va ocupa de iluminarea obiectelor din physics engine</li>
                    <li class="- topic/li li">box2dWorld este container-ul pentru physics engine (box2d) Pentru a crea
                        Body-uri, Sensor-uri si Fixture-uri folosim clasa Box2dFactory</li>
                    <li class="- topic/li li">tiledMap este harta propriu-zisa a jocului din care se incarca automat
                        checkpoint-uri si pereti</li>
                    <li class="- topic/li li">FIXED_TIME_STEP constanta folosita pentru a da update in physics engine la
                        un interval constant de timp, lucru ce separa frame rate-ul de coliziuni si
                        movement</li>
                    <li class="- topic/li li">entityEngine este un PooledEngine din framework-ul Ashley. Acesta este un
                        entity-component system ce permite management-ul entitatilor care sunt
                        formate prin compunere de componente, asupra carora actioneaza diferite
                        system-uri .Un system itereaza prin orice entity care contine compinentele
                        specificate pe constructor si proceseaza datele acestuia. Astfel creste
                        valoarea de reutilizare a compinentelor, evitand inheritance-ul. Acesta are
                        un pattern de factory, adica poate returna prin metode Entity-uri, spre
                        exemplu player-ul</li>
                </ul>
                <p class="- topic/p p">Player-ul are mai multe componente:</p>
                <ul class="- topic/ul ul" id="unique_5_Connect_42_ul_gsg_gy4_fyb" nd:nd-id="ul_gsg_gy4_fyb">
                    <li class="- topic/li li">PlayerComponent folosit pentru controlarea playerului, acesta are un sensor
                        fixture pe body folosit pentru a determina alte entity-uri din
                        proximitate</li>
                    <li class="- topic/li li">EntityTypeComponent indica ce tip de entity este playerul si in ce state se
                        afla(idle,hit, walk etc)</li>
                    <li class="- topic/li li">PositionComponent pozitia in lume</li>
                    <li class="- topic/li li">MovementComponent directiile de deplasare active, viteza si forta de
                        dash</li>
                    <li class="- topic/li li">SpriteComponent imaginea entity-ului si dimensiunile acesteia</li>
                    <li class="- topic/li li">AnimationComponent un Animation&lt;Sprite&gt; si un timer intern folosit pentru
                        actualizarea animatiei</li>
                    <li class="- topic/li li">Box2dComponent indica engine-ului ca entity-ul ia parte in coliziuni.
                        Body-ul este creat dupa dimensiunile sprite-ului avand doua Fixture-uri:
                        fingerprint-ul(partea solida a corpului) si hurtbox-ul(folosit pentru
                        interactiunile de combat cu hitboxuri)</li>
                    <li class="- topic/li li">HealthConponent entity-ul ia parte in combat si poate primi damage.</li>
                    <li class="- topic/li li">CameraComponent camera poate focusa entity-ul</li>
                </ul>
                <p class="- topic/p p">alte entity-uri pot avea:</p>
                <ul class="- topic/ul ul" id="unique_5_Connect_42_ul_hsg_gy4_fyb" nd:nd-id="ul_hsg_gy4_fyb">
                    <li class="- topic/li li">DetectorComponent detecteaza proximitatea cu playerul</li>
                    <li class="- topic/li li">CheckpointComponent primeste un checkpoint action si este focusat automat de
                        camera in zonele hartii care sunt points of interest</li>
                    <li class="- topic/li li">AttackComponent are un hitbox si alte caracteristici ale unui atac precum
                        damage tip de atac etc</li>
                </ul>
                <p class="- topic/p p">System-uri</p>
                <ul class="- topic/ul ul" id="unique_5_Connect_42_ul_isg_gy4_fyb" nd:nd-id="ul_isg_gy4_fyb">
                    <li class="- topic/li li">AnimationSystem se foloseste de counterele din AnimationComponent si schimba
                        SpriteComponent-ul cu frame-ul curent. Animatiile sunt incarcate din
                        AnimationProvider pe baza EntityType-ului si al EntityState-ului. Animatiile
                        sunt salave in spritesheet-uri si decodate cu un fisier atlas in care sunt
                        salvate informatii despre toate frame-urile animatiilor. Astfel este necesar
                        un singur png si un fisier atlas pentru toate animatiile.</li>
                    <li class="- topic/li li">CheckpointSystem executa actiunile din checkpointuri cand sunt atinse</li>
                    <li class="- topic/li li">RenderingSystem foloseste spriteBatch-ul si randeaza Sprite-urile la
                        pozitiile entity-urilor dupa ce compara pozitia lor pe axa Y, astfel incat
                        sprite-urile sa para ca pot fi unul in spatele celuilalt.</li>
                    <li class="- topic/li li">HudSystem actualizeaza hud-ul cu informatii din player</li>
                    <li class="- topic/li li">CameraSystem decide unde este focusata camera. Daca player-ul este in
                        proximitatea unui grup de inamici camera focuseaza in mijlocul grupului.
                        Daca exista un checkpoint in proximitate, acesta va fi focusat. Daca
                        playerul nu are entity-uri cu CameraComponent in proximitate este focusat
                        singur.</li>
                    <li class="- topic/li li">HealthSystem verifica daca un hurtbox a primit damage si actualizeaza
                        nivelul de health</li>
                    <li class="- topic/li li">CombatSystem aplica efecte de knockback daca un entity a fost lovit</li>
                </ul>
                <p class="- topic/p p">FilteredContactListener este un listener adaugat la box2dWorld care filtreaza
                    coliziunile astfel incat sa determine cand s-a realizat un contact intre
                    hitbox-uri/hurtbox-uri sau intre sensorul playerului si un detector</p>
            </div>
        </div>
    </article>
</article></div></div></div></div></body></html>